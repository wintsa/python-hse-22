<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Лекция 08: Амортизационный анализ</title>

    <link rel="stylesheet" href="../dist/reset.css">
    <link rel="stylesheet" href="../dist/reveal.css">
    <link rel="stylesheet" href="../dist/theme/black.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="../plugin/highlight/monokai.css">
    <style>
.reveal .slides section .fragment.step-fade-in-then-out {
	opacity: 0;
	display: none;
	}
.reveal .slides section .fragment.step-fade-in-then-out.current-fragment {
	opacity: 1;
	display: inline;
	}
#inc {
    display: inline-block;
    border: 1px white solid;
    border-radius: 2rem;
    padding: 0 20px
}
.bval {
    font-weight: 500;
}
#bl {
    display: inline-block;
    padding-left: 2em;
}
table.stack {
    margin-bottom: 1em;
}
table.stack, table.stack tr td {
  border: 1px solid;
  border-collapse: collapse;
}
table.stack tr td {
    min-width: 6rem;
    height: 4rem;
}
#stackMP{
    width: 3rem;
}
.stackBut {
    display: inline-block;
    border: 1px white solid;
    border-radius: 2rem;
    padding: 0 20px
}
input {
    height: 2rem;
    font: inherit;
    vertical-align: baseline;
}
#binTableCalc {
    font-size: 1.2rem;
}
#binTableCalc td.red {
    color:red;
}
#binTableCalc td.rb {
    border-right: 1px solid white;
}
#binTableCalc td.bb {
    border-right: 1px solid white;
    border-left: 1px solid white;
}
#binTableCalc td {
    width: 2em;
    text-align: center;
}
.over {
    background-color:white;
    color: black
}
table.accountTable td {
    text-align: center;
}
table.accountTable > thead > tr > td,
table.accountTable > tbody > tr > td {
    border-bottom: 0;
    border-left: 1px solid white;
    border-right: 1px solid white;
}
table.accountTable table td {
    border: 1px solid black;
}
.reveal .accountTable table {
    margin: 0;
}
table.accountTable td.to_left {
    text-align: left;
}
.accountTable .red {
    color:red;
}
.accountTable .green {
    color:green;
}
.accountTable .greenCell {
    background-color:green;
    min-width:20px;
}
.accountTable .lightGreenCell {
    background-color:lightgreen;
    min-width:20px;
}




    </style>
    <script>
        const L = 5
        let val = 0
        A = Array.apply(null, Array(L)).map(i=>0)
        const setA = (i, v) => {
            A[i] = v
            const td = document.getElementById('b'+i)
            td.style.color = 'red';
            td.innerHTML = v
        }
        const clear = () => {
            bl.innerHTML = val+'=>'+(val+1)
            val = val + 1
            A.forEach((v,i) => document.getElementById('b'+i).style.color = 'white')
        }
        const inc = () => {
            let i = 0
            clear()
            while(i<L && A[i]==1) {
                setA(i, 0)
                i = i + 1
            }
            if(i<L)
                setA(i, 1)
        }


    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section>
            <h3>Лекция 08: Амортизационный анализ</h3>
            <div>&nbsp;</div>
            <h4>Александр Дерендяев</h4>
        </section>
        <section>
            <section>
                <h4>Анализ вычислительной сложности алгоритмов</h4>
                <ol>
                    <li>Определяем <em>параметры</em> алгоритма, от которых зависит время его выполнения
                        \[
                        n, m
                        \]
                    </li>
                </ol>
            </section>
            <section>
                <h4>Анализ вычислительной сложности алгоритмов</h4>
                <ol start="2">
                    <li>Выражаем количество операций, выполняемых алгоритмом, как <em>функцию от его параметров</em>
                        (для худшего, среднего или лучшего случаев)
                        \[
                        T(n, m) = 2n^2 + 4\log_2 m
                        \]
                    </li>
                </ol>
            </section>
            <section>
                <h4>Анализ вычислительной сложности алгоритмов</h4>
                <ol start="3">
                    <li>Строим <em>асимптотическую оценку</em> вычислительной сложности алгоритма – переходим к
                        асимптотическим обозначениям: $O, \Omega, \Theta$
                        \[
                        T(n, m) = O(2n^2 + 4\log_2 m) = O(\max{n^2,\log_2 m})
                        \]
                    </li>
                </ol>
            </section>
        </section>
        <section>
            <section>
                <h4>Анализ сортировки выбором (худший случай)</h4>
                <pre><code data-trim data-noescape data-line-numbers="1-9|2|4|6-7|8-9|2,4,6-7,8-9" class="python">
def selection_sort(v):
    n = len(v)
    for i in range(n - 1):
        min = i
        for j in range(i + 1, n):
            if v[j] < v[min]:
                min = j
        if min != i:
            v[i], v[min] = v[min], v[i]
                </code></pre>
            </section>
            <section>
                <h4>Анализ сортировки выбором (худший случай)</h4>
                <pre><code data-trim data-noescape data-line-numbers="2,4,6-7,8-9" class="python">
def selection_sort(v):
    n = len(v) # 1 операция
    for i in range(n - 1):
        min = i # 1 операция
        for j in range(i + 1, n):
            if v[j] < v[min]: # 2 операции
                min = j
        if min != i: # 4 операции
            v[i], v[min] = v[min], v[i]
                </code></pre>
                <p class="fragment step-fade-in-then-out">$T(n) = 1 + \ldots$</p>
                <p class="fragment step-fade-in-then-out">$T(n) = 1 + (n-1) + \ldots$</p>
                <p class="fragment step-fade-in-then-out">$T(n) = 1 + (n-1) + 4(n-1) + \ldots$</p>
                <p class="fragment step-fade-in-then-out">\[T(n) = 1 + (n-1) + 4(n-1) + \\ 2((n-1) + (n-2) + \ldots +
                    1)\]</p>
                <p class="fragment step-fade-in-then-out">$T(n) = 4n - 4 + 2((n-1+1)(n-1)/2)$</p>
                <p class="fragment step-fade-in-then-out">$T(n) = 4n - 4 + n^2 -n$</p>
                <p class="fragment step-fade-in-then-out">$T(n) = n^2 -4n-4$</p>
                <p class="fragment step-fade-in-then-out">$T(n) = O(n^2)$</p>
            </section>
            <section>
                <iframe width="800" height="500" frameborder="0"
                        src="https://pythontutor.com/iframe-embed.html#code=def%20selection_sort%28v%29%3A%0A%20%20%20%20n%20%3D%20len%28v%29%0A%20%20%20%20for%20i%20in%20range%28n%20-%201%29%3A%0A%20%20%20%20%20%20%20%20min%20%3D%20i%0A%20%20%20%20%20%20%20%20for%20j%20in%20range%28i%20%2B%201,%20n%29%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20v%5Bj%5D%20%3C%20v%5Bmin%5D%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20min%20%3D%20j%0A%20%20%20%20%20%20%20%20if%20min%20!%3D%20i%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20v%5Bi%5D,%20v%5Bmin%5D%20%3D%20v%5Bmin%5D,%20v%5Bi%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0Aselection_sort%28%5B4,%2011,%202,%200%5D%29&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=36&heapPrimitives=nevernest&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"></iframe>
            </section>
        </section>
        <section>
            <section>
                <h4>Бинарный счетчик (binary counter)</h4>
                <ul>
                    <li>Счетчик имеет длину $L$ бит (может принимать $2^L$ значений)</li>
                    <li>Поддерживает операцию Increment, которая увеличиваетего значение на единицу</li>
                    <li>Начальное значение счетчика — 0</li>
                </ul>
            </section>
            <section>
                <h4>Пример 5-разрядного бинарного счетчика</h4>
                <span id='inc' onclick="inc()">Increment: </span><label id="bl">0</label>
                <table>
                    <tr>
                        <td>Разряд</td>
                        <td>4</td>
                        <td>3</td>
                        <td>2</td>
                        <td>1</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>Вес</td>
                        <td>16</td>
                        <td>8</td>
                        <td>4</td>
                        <td>2</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>Значение</td>
                        <td id="b4" class="bval">0</td>
                        <td id="b3" class="bval">0</td>
                        <td id="b2" class="bval">0</td>
                        <td id="b1" class="bval">0</td>
                        <td id="b0" class="bval">0</td>
                    </tr>
                </table>
            </section>
            <section>
                <h4>Бинарный счетчик (binary counter)</h4>
                <pre><code data-trim data-noescape data-line-numbers="1-7|3-5" class="python">
def inc(A):
    i = 0
    while i < L and A[i]==1:
        A[i] = 0
        i = i + 1
    if i < L:
        A[i] = 1
                </code></pre>
                <p class="fragment step-fade-in-then-out">Заменяем начальную последовательность единиц нулями (перенос в
                    старший разряд)</p>
                <p class="fragment step-fade-in-then-out">При каждом вызове функции Increment время ее работы разное и
                    зависит от внутреннего состояния – значений <code>A[1..L]</code></p>
                <p class="fragment">Вычислительная сложность функции Increment?</p>
            </section>
            <section>
                <h4>Бинарный счетчик (binary counter)</h4>
                <p>В худшем случае массив <code>A[1..L]</code> состоит только из единиц,
                    для выполнения операции Increment требуется время <code>O(L)</code></p>
                <p style="color: red" class="fragment">Это пессимистическая оценка!</p>
            </section>
        </section>
        <section>
            <section>
                <h4>Амортизационный анализ</h4>
                <p><strong>Амортизационный анализ (amortized analysis)</strong> —
                    метод анализа алгоритмов, позволяющий осуществлять
                    оценку времени выполнения последовательности из $n$
                    операций над некоторой структурой данных</p>
                <p>Время выполнения усредняется по всем $n$ операциям,
                    и оценивается <em>среднее</em> время выполнения одной операции
                    <em>в худшем случае</em></p>
            </section>
            <section>
                <h4>Амортизационный анализ</h4>
                <p>Некоторые операции структуры данных могут иметь
                    высокую вычислительную сложность, другие низкую</p>
                <p>Например, некоторая операция может подготавливать
                    структуру данных для быстрого выполнения других
                    операций</p>
                <p>Такие «тяжелые» операции выполняются редко и могут
                    оказывать незначительное влияние на суммарное время
                    выполнения последовательности из $n$ операций</p>
            </section>
            <section>
                <h4>Амортизационный анализ</h4>
                <p>Амортизационный анализ возник из группового анализа
                    (aggregate analysis)</p>
                <p>Введен в практику Робертом Тарьяном (Robert Tarjan)
                    в 1985 году:</p>
                <p style="font-style: oblique 40deg;">Tarjan R. Amortized Computational Complexity // SIAM. J. on
                    Algebraic and Discrete Methods, 6(2), 1985. – P. 306–318.</p>
            </section>
            <section>
                <h4>Методы амортизационного анализа</h4>
                <ul>
                    <li>Групповой анализ (aggregate analysis)</li>
                    <li>Метод бухгалтерского учета (accounting method)</li>
                    <li>Метод потенциалов (potential method)</li>
                </ul>
                <p class="fragment">Все методы позволяют получить одну и ту же оценку, но разными способами</p>
            </section>
        </section>
        <section>
            <section>
                <h4>Групповой анализ (аggregate analysis)</h4>
                <p class="fragment step-fade-in-then-out"><strong>Групповой анализ (aggregate analysis)</strong> —
                    метод амортизационного анализа, позволяющий
                    оценивать верхнюю границу времени $T(n)$ выполнения
                    последовательности из $n$ операций в худшем случае</p>
                <p class="fragment"><strong>Амортизированная стоимость (amortized cost, учетная
                    стоимость)</strong> выполнения одной операции определяется как \[T(n)/n\]</p>
                <p class="fragment">Амортизированная стоимость операции – это оценка
                    сверху среднего времени выполнения операции в худшем
                    случае</p>
            </section>
            <section>
                <h4>Стековые операции (Last In – First Out)</h4>
                <p>Всего <span id="stackN">0</span> операций, общая сложность <span id="stackT">0</span>, средняя <span
                        id="stackC">—</span>.</p>
                <table class="stack">
                    <tr>
                        <td id="t0">↓Top</td>
                        <td id="t1"></td>
                        <td id="t2"></td>
                        <td id="t3"></td>
                        <td id="t4"></td>
                        <td id="t5"></td>
                        <td id="t6"></td>
                        <td id="t7"></td>
                    </tr>
                    <tr>
                        <td id="v0"></td>
                        <td id="v1"></td>
                        <td id="v2"></td>
                        <td id="v3"></td>
                        <td id="v4"></td>
                        <td id="v5"></td>
                        <td id="v6"></td>
                    </tr>
                </table>
                <script>
                    let stackI = 0
                    const stackL = 7
                    let stackNV = 0
                    let stackNT = 0
                    const setStack = () => {
                        stackN.innerHTML = stackNV
                        stackT.innerHTML = stackNT
                        stackC.innerHTML = stackNV===0?'—':Math.round(stackNT*10/stackNV)/10
                    }
                    const push = () => {
                        if(stackI>=stackL) return;
                        document.getElementById('t'+stackI).innerHTML = ''
                        document.getElementById('v'+stackI).innerHTML = stackPushValue.value
                        stackI++;
                        document.getElementById('t'+stackI).innerHTML = '↓Top'
                        stackNV++;
                        stackNT++;
                        setStack()
                    }
                    const pop = () => {
                        if(stackI<=0) return;
                        document.getElementById('t'+stackI).innerHTML = ''
                        stackI--;
                        popValue.innerHTML = document.getElementById('v'+stackI).innerHTML
                        document.getElementById('v'+stackI).innerHTML = ''
                        document.getElementById('t'+stackI).innerHTML = '↓Top'
                        stackNV++;
                        stackNT++;
                        setStack()
                    }
                    const _pop = () => {
                        if(stackI<=0) return;
                        document.getElementById('t'+stackI).innerHTML = ''
                        stackI--;
                        multiValue.innerHTML = (multiValue.innerHTML==''?'':multiValue.innerHTML+',')+document.getElementById('v'+stackI).innerHTML
                        document.getElementById('v'+stackI).innerHTML = ''
                        document.getElementById('t'+stackI).innerHTML = '↓Top'
                        stackNT++;
                    }
                    const multi = () => {
                        const n = stackMP.value
                        multiValue.innerHTML = ''
                        for(let i=0;i<n;i++)
                            _pop()
                        stackNV++;
                        setStack()
                    }


                </script>
                <ul>
                    <li><span class='stackBut' id="push" onclick="push()">Push</span>: <input id="stackPushValue"
                                                                                              maxlength="4" size="4">
                    </li>
                    <li><span class='stackBut' id="pop" onclick="pop()">Pop</span>: <label id="popValue"></label></li>
                    <li><span class='stackBut' id="multi" onclick="multi()">Multipop</span><input id="stackMP"
                                                                                                  type="number"
                                                                                                  value="2">:<br><label
                            id="multiValue"></label></li>
                </ul>
            </section>
            <section>
                <h4>Стековые операции (Last In – First Out)</h4>
                <pre><code data-trim data-noescape data-line-numbers class="python">
def MultiPop(S, k):
    while not stack_empty(S) and k > 0:
        stack_pop(S)
        k = k – 1
                </code></pre>
                <p class="fragment">$T_{MultiPop} = O(\min(|S|, k))$</p>
            </section>
        </section>
        <section>
            <section>
                <h4>Групповой анализ стековых операций v1.0</h4>
                <p>Методом группового анализа оценим верхнюю границу
                    времени $T(n)$ выполнения произвольной последовательности
                    из $n$ стековых операций (Push, Pop, MultiPop)</p>
            </section>
            <section>
                <h4>Групповой анализ стековых операций v1.0</h4>
                <ol>
                    <li>Стоимость операции Pop равна $O(1)$</li>
                    <li>Стоимость операции Push равна $O(1)$</li>
                    <li>Стоимость операции MultiPop в худшем случае $O(n)$,
                        так как в ходе выполнения $n$ операций в стеке не может
                        находится более $n$ объектов
                    </li>
                </ol>
            </section>
            <section>
                <h4>Групповой анализ стековых операций v1.0</h4>
                <p>В худшем случае последовательность из $n$ операций может
                    содержать только операции MultiPop</p>
                <p>Тогда, суммарное время $T(n)$ выполнения $n$ операций есть $O(n^2)$, а амортизированная стоимость
                    одной операции</p>
                \[O(n^2)/n=O(n)\]
            </section>
        </section>
        <section>
            <section>
                <h4>Групповой анализ стековых операций v2.0</h4>
                <p>Количество операций Pop (включая вызовы из MultiPop)
                    не превышает количества операций Push. В свою очередь,
                    число операций Push не превышает $n$ (операция MultiPop
                    реализована на базе Pop)</p>
                <p>Таким образом для выполнения произвольной
                    последовательности из $n$ операций Push, Pop, MultiPop
                    требуется время $O(n)$</p>
            </section>
            <section>
                <h4>Групповой анализ стековых операций v2.0</h4>
                <p>Суммарное время выполнения $n$ операций в худшем случае есть
                    $O(n)$, тогда амортизированная стоимость (средняя стоимость)
                    одной операции над стеком есть</p>
                \[O(n)/n=O(1)\]
            </section>
            <section>
                <h4>Групповой анализ стековых операций</h4>
                <p>Останется ли справедливой оценка
                    амортизированной стоимости стековых
                    операций, равная $О(1)$, если включить в
                    множество стековых операций операцию
                    MultiPush(S, k), помещающую в стек $k$
                    элементов?</p>
                <p class="fragment" style="color:red">Нет</p>
            </section>
            <section>
                <h4>Групповой анализ стековых операций</h4>
                <p>В последовательности из $n$ стековых
                    операций может быть $n$ операций
                    MultiPush, что требует времени $O(nk)$</p>
                <p>Тогда амортизированная стоимость
                    (средняя стоимость) одной стековой
                    операции</p>
                \[T(n)/n = O(nk)/n = O(k)\]
            </section>
        </section>
        <section>
            <section>
                <h4>Бинарный счетчик (binary counter)</h4>
                <ul>
                    <li>Счетчик имеет длину $L$ бит (может принимать $2^L$ значений)</li>
                    <li>Поддерживает операцию Increment, которая увеличиваетего значение на единицу</li>
                    <li>Начальное значение счетчика — 0</li>
                </ul>
            </section>
            <section>
                <script>
                A2 = Array.apply(null, Array(L)).map(i=>0)
                const inc2 = () => {
                    let i = 0
                    while(i<L && A2[i]==1) {
                        A2[i] = 0
                        i = i + 1
                    }
                    if(i<L)
                        A2[i] = 1
                    return [i + 1, A2]
                }
                const drawLine = (i,s) => {
                    let r = `<tr> \
                    <td class="rb">${i+1}</td> \
                    <td>0</td> \
                    <td>..</td>`
                    const [t,a] = inc2()
                    for(let j=4;j>=0;j--)
                        r += `<td class='${j<t?'red':''}'>${a[j]}</td>`
                    r += `<td class="bb">${t}</td> \
                    <td>${s+t}</td> \
                    </tr>`
                    binTableCalc.innerHTML += r
                    return t
                }
                window.onload = () => {
                    let s = 0
                    for(let i=0;i<16;i++)
                        s += drawLine(i, s)
                }


                </script>
                <h4>Бинарный счетчик</h4>
                <div class="r-stack">
                    <table class="fragment" id="binTableCalc">
                        <thead>
                        <tr>
                            <td class="rb">N</td>
                            <td>A[7]</td>
                            <td>..</td>
                            <td>A[4]</td>
                            <td>A[3]</td>
                            <td>A[2]</td>
                            <td>A[1]</td>
                            <td>A[0]</td>
                            <td class="bb">S</td>
                            <td>$\Sigma$</td>
                        </tr>
                        </thead>
                    </table>
                    <div class="over fragment step-fade-in-then-out">Какова амортизированная стоимость выполнения
                        функции Increment (среднее время в худшем случае)?
                    </div>
                    <div class="over fragment step-fade-in-then-out">Оценим сверху время $T(n)$ выполнения $n$ операций
                        Increment
                    </div>
                    <div class="over fragment step-fade-in-then-out">
                        <p>Можно заметить, что</p>
                        <p>время выполнения $n$ операций</p>
                        \[2n\geq T(n)\]
                    </div>
                    <div class="fragment step-fade-in-then-out">
                        <div style="display: flex; justify-content:space-between; width: 700px; padding: 0 0 0 80px;">
                            <div class="over">$n$</div>
                            <div class="over">$T(n)$</div>
                        </div>
                    </div>
                </div>
            </section>
            <section>
                <h4>Групповой анализ бинарного счетчика</h4>
                <ul>
                    <li>Бит 0 изменяется $n$ раз</li>
                    <li>Бит 1 изменяется $\lfloor\frac{n}{2}\rfloor$ раз</li>
                    <li>Бит 2 изменяется $\lfloor\frac{n}{4}\rfloor$ раз</li>
                    <li>..</li>
                    <li>Бит $L-1$ изменяется $\lfloor\frac{n}{2^{L-1}}\rfloor$ раз</li>
                </ul>
                \[T(n)=n+\frac{n}{2}+\frac{n}{4}+...+\frac{n}{2^{L-1}} = \\
                = n+n=2n\]
            </section>
            <section>
                <h4>Групповой анализ бинарного счетчика</h4>
                \[T(n)=O(n)\]
                <p>Средняя (амортизированная) стоимость одной операции Increment</p>
                \[O(n)/n = O(1)\]
            </section>
        </section>
        <section>
            <section>
                <h4>Обработчик с накопителем</h4>
                <pre><code data-trim data-noescape data-line-numbers class="python">
def add_to_buffer(value):
    buffer[count] = value
    count = count + 1
    if count == M:
        for i in range(M):
            packet[i] = buffer[i]
        count = 0
                </code></pre>
            </section>
            <section>
                <h4>Групповой анализ обработчика с накопителем</h4>
                <p>Обозначим через $c_i$ количество операции, выполняемых
                    на $i$-ом вызове <code>add_to_buffer</code></p>
                \[c_i=\begin{cases}
                M + 3, & \quad если \ i\%M=0, \\
                2, & \quad иначе.
                \end{cases} \]
            </section>
            <section>
                <h4>Обработчик с накопителем</h4>
                <p>Тогда оценка сверху времени $T(n)$ выполнения $n$ операций <code>add_to_buffer</code> есть</p>
                \[T(n) = c_1 + c_2 + \cdots + c_n < 2n + \frac{n(3+M)}{M} = \\
                2n + 3n + M = 5n+M\]
            </section>
            <section>
                <h4>Обработчик с накопителем</h4>
                <p>Оценка сверху времени $T(n)$ выполнения $n$ операций <code>add_to_buffer</code></p>
                \[T(n) = 5n+M = O(n+M)\]
                <p>Амортизированная стоимость одной операции <code>add_to_buffer</code></p>
                \[\frac{T(n)}{n} = \frac{5n+M}{n} = O(1)\]
            </section>
        </section>
        <section>
            <section>
                <h4>Динамические таблицы (dynamic tables)</h4>
                <p><strong>Динамическая таблица (Dynamic table, dynamic array,
                    growable array)</strong> – это массив поддерживающий вставку
                    и удаление элементов и динамически изменяющий
                    свой размер до необходимого значения</p>
                <p>Поддерживаемые операции:</p>
                <ul>
                    <li>Insert(T, x)</li>
                    <li>Delete(T, x)</li>
                </ul>
            </section>
            <section>
                <h4>Динамические таблицы (dynamic tables)</h4>
                <p>При выполнении операции Insert размер массива увеличивается</p>
                <p>Как увеличивать размер массива?</p>
                <p><strong>Аддитивная схема</strong> – текущий размер массива увеличивается
                    на $k$ ячеек (по арифметической прогрессии)</p>
                <p><strong>Мультипликативная схема</strong> – текущий размер массива
                    увеличивается в $k$ раз (по геометрической прогрессии)</p>
            </section>
            <section>
                <h4>Динамические таблицы (dynamic tables)</h4>
                <p>Примеры реализации:</p>
                <table>
                    <tr>
                        <td style="vertical-align: middle;">
                            <ul>
                                <li><strong>С++:</strong> std::vector</li>
                                <li><strong>Java:</strong> ArrayList</li>
                                <li><strong>.NET 2.0:</strong> List<></li>
                                <li><strong>Python:</strong> list</li>
                            </ul>
                        </td>
                        <td>
                            <img src="dyn_array.jpg" width="150"/>
                        </td>
                    </tr>
                </table>
            </section>
            <section>
                <h4>Динамические таблицы (dynamic tables)</h4>
                <pre><code data-trim data-noescape data-line-numbers class="python">
def insert(x):
    if Size == 0:
        Size = 1
        Table = AllocateMemory(Size)
        k = 0
    else if k == Size:
        Size = Size * 2
        NewTable = AllocateMemory(Size)
        for i in range(k):
            NewTable[i] = Table[i]
        FreeMemory(Table)
        Table = NewTable
    Table[k] = x
    k = k + 1
                </code></pre>
                <a target="_blank"
                   href="https://pythontutor.com/render.html#code=def%20AllocateMemory%28x%29%3A%0A%20%20%20%20print%28x%29%0A%20%20%20%20return%20%5B0%5D*x%0A%0Adef%20FreeMemory%28x%29%3A%0A%20%20%20%20pass%0A%0A%0ASize%20%3D%200%0ATable%20%3D%20%5B%5D%0Ak%20%3D%200%0A%0Adef%20insert%28x%29%3A%0A%20%20%20%20global%20Size,%20k,%20Table%0A%20%20%20%20if%20Size%20%3D%3D%200%3A%0A%20%20%20%20%20%20%20%20Size%20%3D%201%0A%20%20%20%20%20%20%20%20Table%20%3D%20AllocateMemory%28Size%29%0A%20%20%20%20%20%20%20%20k%20%3D%200%0A%20%20%20%20elif%20k%20%3D%3D%20Size%3A%0A%20%20%20%20%20%20%20%20Size%20%3D%20Size%20*%202%0A%20%20%20%20%20%20%20%20NewTable%20%3D%20AllocateMemory%28Size%29%0A%20%20%20%20%20%20%20%20for%20i%20in%20range%28k%29%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20NewTable%5Bi%5D%20%3D%20Table%5Bi%5D%0A%20%20%20%20%20%20%20%20FreeMemory%28Table%29%0A%20%20%20%20%20%20%20%20Table%20%3D%20NewTable%0A%20%20%20%20Table%5Bk%5D%20%3D%20x%0A%20%20%20%20k%20%3D%20k%20%2B%201%0A%20%20%20%20%0Ainsert%281%29%20%20%20%20%0Ainsert%282%29%20%20%20%20%0Ainsert%283%29%20%20%20%20%0Ainsert%284%29%20%20%20%20%0Ainsert%285%29%20%20%20%20%0Ainsert%286%29&cumulative=false&curInstr=0&heapPrimitives=nevernest&mode=display&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false">Tutor</a>
            </section>
            <section>
                <h4>Динамические таблицы (dynamic tables)</h4>
                <p>Проведем амортизационный анализ времени $T(n)$
                    выполнения последовательности из $n$ операций Insert</p>
            </section>
            <section>
                <h4>Динамические таблицы (dynamic tables)</h4>
                <p>Обозначим через $c_i$ количество операции, выполняемых
                    на $i$-ом вызове Insert</p>
                \[c_i=\begin{cases}
                i & \quad если \ i-1 \ степень \ 2, \\
                1 & \quad иначе.
                \end{cases} \]
            </section>
            <section>
                <h4>Динамические таблицы (dynamic tables)</h4>
                <p>Тогда оценка сверху времени $T(n)$ выполнения
                    $n$ операций Insert есть</p>
                \[T(n) = c_1 + c_2 + \cdots + c_n \leq \\n + 2^0 + 2^1 + 2^2 + \cdots + 2^{\lfloor\log_2 n\rfloor} \]
                \[T(n) < n + 2n = 3n\]
            </section>
            <section>
                <h4>Динамические таблицы (dynamic tables)</h4>
                <p>Оценка сверху амортизированной сложности одной
                    операции Insert есть</p>
                \[T_{Insert} = \frac{T(n)}{n} = \frac{3n}{n} = 3 = O(1)\]
            </section>
        </section>
        <section>
            <section>
                <h4>Метод бухгалтерского учета</h4>
                <p>Групповой анализ хорошо работает, когда мы впрямую можем оценить сколько будет "стоить" набор
                    операций.</p>
                <p>Также есть проблемы, если используется много операций.</p>
                <p>Развитием является метод бухгалтерского учета</p>
            </section>
            <section>
                <h4>Метод бухгалтерского учета</h4>
                <p>За каждую операция мы "платим" фиксированную стоимость.</p>
                <p>Если в действительности "тратим" меньше, то остаток идет на наш "баланс".</p>
                <p>Если больше, то сумма снимается с баланса.</p>
                <p>Баланс не может становиться отрицательным.</p>
                <p>Какую стоимость платить?</p>
            </section>
            <section>
                <h4>Метод бухгалтерского учета</h4>
                <table class="accountTable">
                    <thead>
                    <tr>
                        <td>i</td>
                        <td>op</td>
                        <td>result</td>
                        <td>charge</td>
                        <td>$C_i$</td>
                        <td>$\Delta B$</td>
                        <td>$B$</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>0</td>
                        <td>append(6)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>1</td>
                        <td>2</td>
                        <td class="red">-1</td>
                        <td class="red">-1</td>
                    </tr>
                    </tbody>
                </table>
            </section>
            <section>
                <h4>Метод бухгалтерского учета</h4>
                <table class="accountTable">
                    <thead>
                    <tr>
                        <td>i</td>
                        <td>op</td>
                        <td>result</td>
                        <td>charge</td>
                        <td>$C_i$</td>
                        <td>$\Delta B$</td>
                        <td>$B$</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>0</td>
                        <td>append(6)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>2</td>
                        <td>2</td>
                        <td class="red">-</td>
                        <td class="red">0</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>append(2)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>2</td>
                        <td>3</td>
                        <td class="red">-1</td>
                        <td class="red">-1</td>
                    </tr>
                    </tbody>
                </table>
            </section>
            <section>
                <h4>Метод бухгалтерского учета</h4>
                <table class="accountTable" style="font-size: 16px">
                    <thead>
                    <tr>
                        <td>i</td>
                        <td>op</td>
                        <td>result</td>
                        <td>charge</td>
                        <td>$C_i$</td>
                        <td>$\Delta B$</td>
                        <td>$B$</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>0</td>
                        <td>append(6)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>3</td>
                        <td>2</td>
                        <td class="green">+1</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>append(2)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>3</td>
                        <td>2</td>
                        <td class="">-</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>append(8)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>3</td>
                        <td>1</td>
                        <td class="green">+2</td>
                        <td>3</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>append(1)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>3</td>
                        <td>5</td>
                        <td class="red">-2</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>append(3)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>3</td>
                        <td>1</td>
                        <td class="green">+2</td>
                        <td>3</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>append(4)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="greenCell">4</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>3</td>
                        <td>1</td>
                        <td class="green">+2</td>
                        <td>5</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>append(7)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="greenCell">4</td>
                                    <td class="greenCell">7</td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>3</td>
                        <td>1</td>
                        <td class="green">+2</td>
                        <td>7</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>append(2)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="greenCell">4</td>
                                    <td class="greenCell">7</td>
                                    <td class="greenCell">2</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>3</td>
                        <td>9</td>
                        <td class="red">-6</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                    </tr>
                    <tr>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                    </tr>
                    <tr>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                    </tr>
                    </tbody>
                </table>
            </section>
            <section>
                <h4>Метод бухгалтерского учета</h4>
                \[T(n)<3n=O(n)\]
                \[\frac{T(n)}{n}=O(1)\]
            </section>
        </section>
        <section>
            <section>
                <h4>Метод потенциалов</h4>
                <p>Функция $\Phi$ — "потенциальная энергия", накопленной структурой данных за счет "дешевых"
                    операций.</p>
                <p>Её значения не отрицательны.</p>
                <p>Пусть $o$ — некоторая отдельная операция из серии, $S_{before}$ — состояние структуры до этой
                    операции, а $S_{after}$ — после неё. Тогда амортизированная сложность операции $o$ равна
                    \[
                    T_{amortized}(o)=T_{actual}(o)+\Phi(S_{after})-\Phi(S_{before})
                    \]
            </section>
            <section>
                <h4>Метод потенциалов</h4>
                <p>Пусть у нас есть $n$ операций $O = o_1, o_2, \ldots, o_n$.</p>
                \[T_{amortized}(O) = \sum_{i=0}^{n} T_{amortized}(o_i)\]
                \[T_{actual}(O) = \sum_{i=0}^{n} T_{actual}(o_i)\]
            </section>
            <section>
                <h4>Метод потенциалов</h4>
                \[
                T_{amortized}(O) = \sum_{i=1}^{n} (T_{actual}(o_i)+\Phi(S_i)-\Phi(S_{i-1})) = \\
                T_{actual}(O) + \Phi(S_n) - \Phi(S_0)
                \]
                \[
                T_{actual}(O) \leq T_{amortized}(O)
                \]
            </section>
            <section>
                <h4>Метод потенциалов для стека</h4>
                <p>Выберем в качестве $\Phi(S_i) = k$ — число элементов в стеке.</p>
                <p>Оценим $T_{amortized}(o)=T_{actual}(o)+\Phi(S_{after})-\Phi(S_{before})$</p>
                <p>Для операции <code>push</code> $T_{amortized} = 1 + k + 1 - k = 2$</p>
                <p>Для операции <code>pop</code> $T_{amortized} = 1 + k - 1 - k = 0$</p>
                <p>Для операции <code>multi_pop</code> $T_{amortized} = 0$</p>
            </section>
        </section>
        <section>
            <section>
                <h4>Метод потенциалов</h4>
                <table class="accountTable" style="font-size: 16px">
                    <thead>
                    <tr>
                        <td>i</td>
                        <td>op</td>
                        <td>result</td>
                        <td>$C_i$</td>
                        <td>$\Phi(S)$</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>0</td>
                        <td>append(6)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                </tr>
                            </table>
                        </td>
                        <td>1</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>append(2)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                </tr>
                            </table>
                        </td>
                        <td>2</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>append(8)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>3</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>append(1)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                </tr>
                            </table>
                        </td>
                        <td>1</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>append(3)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>5</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>append(4)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="greenCell">4</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>1</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>append(7)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="greenCell">4</td>
                                    <td class="greenCell">7</td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>1</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>append(2)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="greenCell">4</td>
                                    <td class="greenCell">7</td>
                                    <td class="greenCell">2</td>
                                </tr>
                            </table>
                        </td>
                        <td>1</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>append(5)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="greenCell">4</td>
                                    <td class="greenCell">7</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">5</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>9</td>
                        <td>?</td>
                    </tr>
                    <tr>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                    </tr>
                    </tbody>
                </table>
            </section>
            <section>
                <h4>Метод потенциалов</h4>
                <p>$\Phi(S_0)=0$ и $\Phi(S_i)=2*k-\textrm{Size}$</p>
                <table class="accountTable" style="font-size: 16px">
                    <thead>
                    <tr>
                        <td>i</td>
                        <td>op</td>
                        <td>result</td>
                        <td>$C_i$</td>
                        <td>$\Phi(S_i)$</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>0</td>
                        <td>append(6)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                </tr>
                            </table>
                        </td>
                        <td>1</td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>append(2)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                </tr>
                            </table>
                        </td>
                        <td>2</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>append(8)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>3</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>append(1)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                </tr>
                            </table>
                        </td>
                        <td>1</td>
                        <td>4</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>append(3)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>5</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>append(4)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="greenCell">4</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>1</td>
                        <td>4</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>append(7)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="greenCell">4</td>
                                    <td class="greenCell">7</td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>1</td>
                        <td>6</td>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td>append(2)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="greenCell">4</td>
                                    <td class="greenCell">7</td>
                                    <td class="greenCell">2</td>
                                </tr>
                            </table>
                        </td>
                        <td>1</td>
                        <td>8</td>
                    </tr>
                    <tr>
                        <td>8</td>
                        <td>append(5)</td>
                        <td class="to_left">
                            <table>
                                <tr>
                                    <td class="greenCell">6</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">8</td>
                                    <td class="greenCell">1</td>
                                    <td class="greenCell">3</td>
                                    <td class="greenCell">4</td>
                                    <td class="greenCell">7</td>
                                    <td class="greenCell">2</td>
                                    <td class="greenCell">5</td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                    <td class="lightGreenCell"></td>
                                </tr>
                            </table>
                        </td>
                        <td>9</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                        <td>...</td>
                    </tr>
                    </tbody>
                </table>
            </section>
            <section>
                <h4>Метод потенциалов</h4>
                <p>Два варианта:</p>
                <ul>
                    <li>Массив не расширяется:
                        \[
                        T_{amortized}(o_i) = T_{actual}(o_i) + \Phi(S_i) - \Phi(S_{i-1}) = \\
                        1 + 2 * i - \textrm{Size} - (2 * (i-1) - \textrm{Size}) = 3
                        \]
                    </li>
                    <li>Массив расширяется ($\textrm{Size}=i$):
                        \[
                        T_{amortized}(o_i) = [i + 1] + [2 * (i + 1) - (2*i)] - \\
                        - [2 * i - i] = 3i+3-2i-i = 3
                        \]
                    </li>
                </ul>
            </section>
        </section>
        <section>
            <section>
                <h4>Метод потенциалов</h4>
                <h4>Бинарный счетчик</h4>
                <p>Какую выбрать $\Phi(S)$?</p>
            </section>
            <section>
                <h4>Метод потенциалов</h4>
                <h4>Бинарный счетчик</h4>
                <p>Пусть $\Phi(S) = R(S)$ — число единиц (вес Хэмминга)</p>
            </section>
        </section>
        <section>
            <section>
                <h4>Метод потенциалов</h4>
                <h4>Префиксная функция</h4>
            </section>
            <section>
                <h4>Метод потенциалов</h4>
                <h4>Z-функция</h4>
            </section>
        </section>
    </div>
</div>
<script src="../dist/reveal.js"></script>
<script src="../plugin/notes/notes.js"></script>
<script src="../plugin/markdown/markdown.js"></script>
<script src="../plugin/highlight/highlight.js"></script>
<script src="../plugin/math/math.js"></script>
<script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.addEventListener('ready', function (event) {
        document.dispatchEvent(new Event('reveal-ready'));
    });
    Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.MathJax2]
    });


</script>
</body>
</html>